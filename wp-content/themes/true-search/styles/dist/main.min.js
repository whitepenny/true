!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(m){"use strict";function n(e,t,n,i){var r,s={raw:{}};for(r in i=i||{})i.hasOwnProperty(r)&&("classes"===e?(s.raw[i[r]]=t+"-"+i[r],s[i[r]]="."+t+"-"+i[r]):(s.raw[r]=i[r],s[r]=i[r]+"."+t));for(r in n)n.hasOwnProperty(r)&&("classes"===e?(s.raw[r]=n[r].replace(/{ns}/g,t),s[r]=n[r].replace(/{ns}/g,"."+t)):(s.raw[r]=n[r].replace(/.{ns}/g,""),s[r]=n[r].replace(/{ns}/g,t)));return s}function e(){w.windowWidth=w.$window.width(),w.windowHeight=w.$window.height(),f=l.startTimer(f,h,t)}function t(){for(var e in w.ResizeHandlers)w.ResizeHandlers.hasOwnProperty(e)&&w.ResizeHandlers[e].callback.call(window,w.windowWidth,w.windowHeight)}function i(e,t){return parseInt(e.priority)-parseInt(t.priority)}var r,s,o,a="undefined"!=typeof window?window:this,c=a.document,d=function(){this.Version="@version",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.RAFHandlers=[],this.window=a,this.$window=m(a),this.document=c,this.$document=m(c),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.fallbackWidth=1024,this.fallbackHeight=768,this.userAgent=window.navigator.userAgent||window.navigator.vendor||window.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isIEMobile=/IEMobile/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(window.File&&window.FileList&&window.FileReader),history:!!(window.history&&window.history.pushState&&window.history.replaceState),matchMedia:!(!window.matchMedia&&!window.msMatchMedia),pointer:!!window.PointerEvent,raf:!(!window.requestAnimationFrame||!window.cancelAnimationFrame),touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),transition:!1,transform:!1}},l={killEvent:function(e,t){try{e.preventDefault(),e.stopPropagation(),t&&e.stopImmediatePropagation()}catch(e){}},killGesture:function(e){try{e.preventDefault()}catch(e){}},lockViewport:function(e){p[e]=!0,m.isEmptyObject(p)||v||(r.length?r.attr("content",o):r=m("head").append('<meta name="viewport" content="'+o+'">'),w.$body.on(y.gestureChange,l.killGesture).on(y.gestureStart,l.killGesture).on(y.gestureEnd,l.killGesture),v=!0)},unlockViewport:function(e){"undefined"!==m.type(p[e])&&delete p[e],m.isEmptyObject(p)&&v&&(r.length&&(s?r.attr("content",s):r.remove()),w.$body.off(y.gestureChange).off(y.gestureStart).off(y.gestureEnd),v=!1)},startTimer:function(e,t,n,i){return l.clearTimer(e),i?setInterval(n,t):setTimeout(n,t)},clearTimer:function(e,t){e&&(t?clearInterval(e):clearTimeout(e),e=null)},sortAsc:function(e,t){return parseInt(e,10)-parseInt(t,10)},sortDesc:function(e,t){return parseInt(t,10)-parseInt(e,10)},decodeEntities:function(e){var t=w.document.createElement("textarea");return t.innerHTML=e,t.value},parseQueryString:function(e){for(var t={},n=e.slice(e.indexOf("?")+1).split("&"),i=0;i<n.length;i++){var r=n[i].split("=");t[r[0]]=r[1]}return t}},w=new d,u=m.Deferred(),g={base:"{ns}",element:"{ns}-element"},y={namespace:".{ns}",beforeUnload:"beforeunload.{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",gestureChange:"gesturechange.{ns}",gestureStart:"gesturestart.{ns}",gestureEnd:"gestureend.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",panStart:"panstart.{ns}",pan:"pan.{ns}",panEnd:"panend.{ns}",resize:"resize.{ns}",scaleStart:"scalestart.{ns}",scaleEnd:"scaleend.{ns}",scale:"scale.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",swipe:"swipe.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"},f=null,h=20,p=[],v=!1;return d.prototype.NoConflict=function(){for(var e in w.DontConflict=!0,w.Plugins)w.Plugins.hasOwnProperty(e)&&(m[e]=w.Conflicts[e],m.fn[e]=w.Conflicts.fn[e])},d.prototype.Ready=function(e){"complete"===w.document.readyState||"loading"!==w.document.readyState&&!w.document.documentElement.doScroll?e():w.document.addEventListener("DOMContentLoaded",e)},d.prototype.Plugin=function(e,t){return w.Plugins[e]=function(u,f){function h(e){return e.data(p)}var e="fs-"+u,p="fs"+u.replace(/(^|\s)([a-z])/g,function(e,t,n){return t+n.toUpperCase()});return f.initialized=!1,f.priority=f.priority||10,f.classes=n("classes",e,g,f.classes),f.events=n("events",u,y,f.events),f.functions=m.extend({getData:h,iterate:function(e){for(var t=Array.prototype.slice.call(arguments,1),n=0,i=this.length;n<i;n++){var r=this.eq(n),s=h(r)||{};"undefined"!==m.type(s.$el)&&e.apply(r,[s].concat(t))}return this}},l,f.functions),f.methods=m.extend(!0,{_construct:m.noop,_postConstruct:m.noop,_destruct:m.noop,_resize:!1,destroy:function(e){f.functions.iterate.apply(this,[f.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(f.classes.raw.element).removeData(p)}},f.methods),f.utilities=m.extend(!0,{_initialize:!1,_delegate:!1,defaults:function(e){f.defaults=m.extend(!0,f.defaults,e||{})}},f.utilities),f.widget&&(w.Conflicts.fn[u]=m.fn[u],m.fn[p]=function(e){if(this instanceof m){var t=f.methods[e];if("object"===m.type(e)||!e)return function(e){var t,n,i,r="object"===m.type(e),s=Array.prototype.slice.call(arguments,r?1:0),o=m();for(e=m.extend(!0,{},f.defaults||{},r?e:{}),n=0,i=this.length;n<i;n++)if(!h(t=this.eq(n))){f.guid++;var a="__"+f.guid,c=f.classes.raw.base+a,d=t.data(u+"-options"),l=m.extend(!0,{$el:t,guid:a,numGuid:f.guid,rawGuid:c,dotGuid:"."+c},e,"object"===m.type(d)?d:{});t.addClass(f.classes.raw.element).data(p,l),f.methods._construct.apply(t,[l].concat(s)),o=o.add(t)}for(n=0,i=o.length;n<i;n++)t=o.eq(n),f.methods._postConstruct.apply(t,[h(t)]);return this}.apply(this,arguments);if(t&&0!==e.indexOf("_")){var n=[t].concat(Array.prototype.slice.call(arguments,1));return f.functions.iterate.apply(this,n)}return this}},w.DontConflict||(m.fn[u]=m.fn[p])),w.Conflicts[u]=m[u],m[p]=f.utilities._delegate||function(e){var t=f.utilities[e]||f.utilities._initialize||!1;if(t){var n=Array.prototype.slice.call(arguments,"object"===m.type(e)?0:1);return t.apply(window,n)}},w.DontConflict||(m[u]=m[p]),f.namespace=u,f.namespaceClean=p,f.guid=0,f.methods._resize&&(w.ResizeHandlers.push({namespace:u,priority:f.priority,callback:f.methods._resize}),w.ResizeHandlers.sort(i)),f.methods._raf&&(w.RAFHandlers.push({namespace:u,priority:f.priority,callback:f.methods._raf}),w.RAFHandlers.sort(i)),f}(e,t),w.Plugins[e]},w.$window.on("resize.fs",e),e(),function e(){if(w.support.raf)for(var t in w.window.requestAnimationFrame(e),w.RAFHandlers)w.RAFHandlers.hasOwnProperty(t)&&w.RAFHandlers[t].callback.call(window)}(),w.Ready(function(){w.$body=m("body"),m("html").addClass(w.support.touch?"touchevents":"no-touchevents"),r=m('meta[name="viewport"]'),s=!!r.length&&r.attr("content"),o="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",u.resolve()}),y.clickTouchStart=y.click+" "+y.touchStart,function(){var e,t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},n=["transition","-webkit-transition"],i={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},r="transitionend",s="",o="",a=document.createElement("div");for(e in t)if(t.hasOwnProperty(e)&&e in a.style){r=t[e],w.support.transition=!0;break}for(e in y.transitionEnd=r+".{ns}",n)if(n.hasOwnProperty(e)&&n[e]in a.style){s=n[e];break}for(e in w.transition=s,i)if(i.hasOwnProperty(e)&&i[e]in a.style){w.support.transform=!0,o=i[e];break}w.transform=o}(),window.Formstone=w}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],e):e(jQuery,Formstone)}(function(t,e){"use strict";function n(){d=t(o.element)}function i(e){if(e.data&&(e=e.data),e.enabled)for(var t,n,i,r=0;r<e.target.length;r++){n=t=0,(i=e.$el.find(e.target[r])).css(e.property,"");for(var s=0;s<i.length;s++)(n=i.eq(s)[e.type]())>t&&(t=n);i.css(e.property,t)}}function r(e){for(var t=0;t<e.target.length;t++)e.$el.find(e.target[t]).css(e.property,"");e.$el.find("img").off(a.namespace)}var s=e.Plugin("equalize",{widget:!0,priority:5,defaults:{maxWidth:1/0,minWidth:"0px",property:"height",target:null},methods:{_construct:function(e){e.maxWidth=e.maxWidth===1/0?"100000px":e.maxWidth,e.mq="(min-width:"+e.minWidth+") and (max-width:"+e.maxWidth+")",e.type="height"===e.property?"outerHeight":"outerWidth",e.target?t.isArray(e.target)||(e.target=[e.target]):e.target=["> *"],n(),t.fsMediaquery("bind",e.rawGuid,e.mq,{enter:function(){(function(e){if(!e.enabled){e.enabled=!0;var t=e.$el.find("img");t.length&&t.on(a.load,e,i),i(e)}}).call(e.$el,e)},leave:function(){(function(e){e.enabled&&(e.enabled=!1,r(e))}).call(e.$el,e)}})},_destruct:function(e){r(e),t.fsMediaquery("unbind",e.rawGuid),n()},_resize:function(e){c.iterate.call(d,i)},resize:i}}),o=s.classes,a=(o.raw,s.events),c=s.functions,d=[]}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(s,e){"use strict";function o(){(function(){for(var e in r={unit:a.unit},m)if(m.hasOwnProperty(e))for(var t in p[e])if(p[e].hasOwnProperty(t)){var n="Infinity"===t?1/0:parseInt(t,10),i=-1<e.indexOf("max");p[e][t].matches&&(i?(!r[e]||n<r[e])&&(r[e]=n):(!r[e]||n>r[e])&&(r[e]=n))}})(),n.trigger(l.mqChange,[r])}function c(e){var t=d(e.media),n=h[t],i=e.matches,r=i?l.enter:l.leave;if(n&&(n.active||!n.active&&i)){for(var s in n[r])n[r].hasOwnProperty(s)&&n[r][s].apply(n.mq);n.active=!0}}function d(e){return e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"").replace(/^\s+|\s+$/g,"")}var t=e.Plugin("mediaquery",{utilities:{_initialize:function(e){for(var t in e=e||{},m)m.hasOwnProperty(t)&&(a[t]=e[t]?s.merge(e[t],a[t]):a[t]);for(var n in(a=s.extend(a,e)).minWidth.sort(f.sortDesc),a.maxWidth.sort(f.sortAsc),a.minHeight.sort(f.sortDesc),a.maxHeight.sort(f.sortAsc),m)if(m.hasOwnProperty(n))for(var i in p[n]={},a[n])if(a[n].hasOwnProperty(i)){var r=window.matchMedia("("+m[n]+": "+(a[n][i]===1/0?1e5:a[n][i])+a.unit+")");r.addListener(o),p[n][a[n][i]]=r}o()},state:function(){return r},bind:function(e,t,n){var i=u.matchMedia(t),r=d(i.media);for(var s in h[r]||(h[r]={mq:i,active:!0,enter:{},leave:{}},h[r].mq.addListener(c)),n)n.hasOwnProperty(s)&&h[r].hasOwnProperty(s)&&(h[r][s][e]=n[s]);var o=h[r],a=i.matches;a&&o[l.enter].hasOwnProperty(e)?(o[l.enter][e].apply(i),o.active=!0):!a&&o[l.leave].hasOwnProperty(e)&&(o[l.leave][e].apply(i),o.active=!1)},unbind:function(e,t){if(e)if(t){var n=d(t);h[n]&&(h[n].enter[e]&&delete h[n].enter[e],h[n].leave[e]&&delete h[n].leave[e])}else for(var i in h)h.hasOwnProperty(i)&&(h[i].enter[e]&&delete h[i].enter[e],h[i].leave[e]&&delete h[i].leave[e])}},events:{mqChange:"mqchange"}}),a={minWidth:[0],maxWidth:[1/0],minHeight:[0],maxHeight:[1/0],unit:"px"},l=s.extend(t.events,{enter:"enter",leave:"leave"}),n=e.$window,u=n[0],f=t.functions,r=null,h=[],p={},m={minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height"}});